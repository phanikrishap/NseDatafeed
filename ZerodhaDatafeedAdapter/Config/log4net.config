<?xml version="1.0" encoding="utf-8" ?>
<!--
  ZerodhaDatafeedAdapter Log4Net Configuration
  =====================================

  This file controls logging behavior for the ZerodhaDatafeedAdapter.

  NOTE: This file is DEPRECATED. The adapter now uses programmatic configuration
  with date-wise folder structure: Logs\{dd-MM-yyyy}\ZerodhaAdapter.log

  If this file exists in Documents\NinjaTrader 8\ZerodhaAdapter\log4net.config,
  DELETE IT to use the new unified logging system.

  Log Levels (from most to least verbose):
    - DEBUG: Detailed diagnostic information (tick-by-tick data, callbacks, etc.)
    - INFO:  General operational information (subscriptions, status changes)
    - WARN:  Warning conditions (recoverable errors, deprecations)
    - ERROR: Error conditions (failures that don't stop the system)
    - FATAL: Critical errors (system failures)

  To change log level, use Logger.SetLogLevel("DEBUG") at runtime.
-->
<log4net>
  <!-- Rolling File Appender - Main log file -->
  <!-- NOTE: This config is deprecated. Delete this file to use new folder structure -->
  <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
    <!-- DEPRECATED: Now uses date-wise folders instead -->
    <file type="log4net.Util.PatternString" value="%envFolderPath{MyDocuments}\NinjaTrader 8\ZerodhaAdapter\Logs\ZerodhaAdapter.log" />
    <appendToFile value="true" />
    <rollingStyle value="Size" />
    <maxSizeRollBackups value="5" />
    <maximumFileSize value="10MB" />
    <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />

    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
    </layout>
  </appender>

  <!-- Console Appender (for debugging in Visual Studio) -->
  <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date [%thread] %-5level %logger - %message%newline" />
    </layout>
  </appender>

  <!-- Root Logger Configuration -->
  <root>
    <!--
      Set the minimum log level here.
      Options: DEBUG, INFO, WARN, ERROR, FATAL

      Recommended:
        - Production: INFO
        - Troubleshooting: DEBUG
    -->
    <level value="INFO" />
    <appender-ref ref="RollingFileAppender" />
  </root>

  <!--
    Service-specific log levels (optional)
    ======================================
    Uncomment and modify these to set different log levels for specific services.
    This allows you to get DEBUG logs from one service while keeping others at INFO.
  -->

  <!--
  <logger name="ZerodhaDatafeedAdapter.Services.MarketData.OptimizedTickProcessor">
    <level value="DEBUG" />
  </logger>

  <logger name="ZerodhaDatafeedAdapter.Services.Analysis.SubscriptionManager">
    <level value="DEBUG" />
  </logger>

  <logger name="ZerodhaDatafeedAdapter.Services.Analysis.MarketAnalyzerLogic">
    <level value="DEBUG" />
  </logger>

  <logger name="ZerodhaDatafeedAdapter.Services.WebSocket.SharedWebSocketService">
    <level value="DEBUG" />
  </logger>

  <logger name="ZerodhaDatafeedAdapter.AddOns.MarketAnalyzer.OptionChainWindow">
    <level value="DEBUG" />
  </logger>
  -->

</log4net>
